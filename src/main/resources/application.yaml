spring:
  application:
    name: didim-log

  config:
    import: optional:file:.env[.properties]

  data:
    mongodb:
      uri: mongodb://localhost:27017/didimlog

  redis:
    host: localhost
    port: 6379

  security:
    oauth2:
      client:
        registration:
          google:
            client-id: ${OAUTH_GOOGLE_ID:}
            client-secret: ${OAUTH_GOOGLE_SECRET:}
            scope:
              - profile
              - email
          github:
            client-id: ${OAUTH_GITHUB_ID:}
            client-secret: ${OAUTH_GITHUB_SECRET:}
            scope:
              - user:email
              - read:user
          naver:
            client-id: ${OAUTH_NAVER_ID:}
            client-secret: ${OAUTH_NAVER_SECRET:}
            authorization-grant-type: authorization_code
            redirect-uri: "{baseUrl}/login/oauth2/code/{registrationId}"
            client-name: Naver
            scope:
              - name
              - email
              - profile_image
        provider:
          naver:
            authorization-uri: https://nid.naver.com/oauth2.0/authorize
            token-uri: https://nid.naver.com/oauth2.0/token
            user-info-uri: https://openapi.naver.com/v1/nid/me
            user-name-attribute: response

logging:
  level:
    root: INFO

app:
  server:
    url: ${SERVER_URL:http://localhost:8080}
  jwt:
    secret: ${JWT_SECRET:didim-log-secret-key-change-this-in-production-environment-minimum-256-bits}
    # Access Token: 30분 (유휴 상태 시 보안을 위해 짧게 유지)
    access-token-expiration: ${JWT_ACCESS_TOKEN_EXPIRATION:1800000} # 30분 (밀리초)
    # Refresh Token: 7일 (사용자 편의를 위해 로그인 유지) - 향후 구현 예정
    refresh-token-expiration: ${JWT_REFRESH_TOKEN_EXPIRATION:604800000} # 7일 (밀리초)
    # 하위 호환성을 위해 expiration도 유지 (access-token-expiration과 동일)
    expiration: ${JWT_EXPIRATION:1800000} # 30분 (밀리초) - access-token-expiration과 동일
  cors:
    allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:3000,http://localhost:5173,https://*.firebaseapp.com,https://*.web.app,https://didim-log-fe.web.app}
  oauth:
    redirect-uri: ${OAUTH_REDIRECT_URI:http://localhost:3000/oauth/callback}
  admin:
    secret-key: ${ADMIN_SECRET_KEY:change-this-admin-secret-key-in-production}

